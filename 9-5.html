<html>
<head>
  <title>Evernote Export</title>
  <basefont face="微软雅黑" size="2" />
  <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
  <meta name="exporter-version" content="YXBJ Windows/600638 (zh-CN, DDL); Windows/10.0.0 (Win64);"/>
  <style>
    body, td {
      font-family: 微软雅黑;
      font-size: 10pt;
    }
  </style>
</head>
<body>
<a name="1774"/>
<div>
<table bgcolor="#D4DDE5" border="0">
<tr><td><b>作者：</b></td><td><i>849040099@qq.com</i></td></tr>
</table>
</div>
<br/>

<div>
<span><div><div style="box-sizing: border-box; outline: 0px; margin: 0px 0px 16px; padding: 0px; font-family: &quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif; font-size: 16px; color: rgb(77, 77, 77); line-height: 26px; overflow-wrap: break-word; font-variant-ligatures: common-ligatures; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);"><span style="box-sizing: border-box; outline: 0px; font-family: &quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif; font-size: 16px; color: rgb(77, 77, 77); line-height: 26px; overflow-wrap: break-word; font-variant-ligatures: common-ligatures; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);">CentOS 7.0默认使用的是firewall作为防火墙</span></div><div style="box-sizing: border-box; outline: 0px; margin: 0px 0px 16px; padding: 0px; font-family: &quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif; font-size: 16px; color: rgb(77, 77, 77); line-height: 26px; overflow-wrap: break-word; font-variant-ligatures: common-ligatures; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);"><span style="box-sizing: border-box; outline: 0px; font-family: &quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif; font-size: 16px; color: rgb(77, 77, 77); line-height: 26px; overflow-wrap: break-word; font-variant-ligatures: common-ligatures; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);">查看防火墙状态</span></div><div style="box-sizing: border-box; outline: 0px; margin: 0px 0px 24px; padding: 8px 16px 6px 56px; position: relative; font-family: &quot;Source Code Pro&quot;, &quot;DejaVu Sans Mono&quot;, &quot;Ubuntu Mono&quot;, &quot;Anonymous Pro&quot;, &quot;Droid Sans Mono&quot;, Menlo, Monaco, Consolas, Inconsolata, Courier, monospace, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, sans-serif; font-size: 14px; overflow: auto hidden; line-height: 22px; color: rgb(0, 0, 0); overflow-wrap: break-word; background-color: rgb(246, 248, 250); border: none; font-variant-ligatures: common-ligatures; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px;"><div style="box-sizing: border-box; outline: 0px; margin: 0px; padding: 8px; font-family: &quot;Source Code Pro&quot;, &quot;DejaVu Sans Mono&quot;, &quot;Ubuntu Mono&quot;, &quot;Anonymous Pro&quot;, &quot;Droid Sans Mono&quot;, Menlo, Monaco, Consolas, Inconsolata, Courier, monospace, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, sans-serif; font-size: 14px; line-height: 22px; background-color: rgb(246, 248, 250); border-radius: 4px; overflow-x: auto; white-space: pre; overflow-wrap: break-word; min-width: 94%; text-size-adjust: none; position: unset; color: rgb(79, 79, 79) !important;"><span style="box-sizing: border-box; outline: 0px; font-family: &quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif; font-size: 14px; line-height: 22px; background-color: rgb(246, 248, 250); border-radius: 4px; overflow-x: auto; white-space: pre; overflow-wrap: break-word; min-width: 94%; text-size-adjust: none; position: unset; color: rgb(136, 0, 0) !important;">firewall</span><span style="box-sizing: border-box; outline: 0px; font-family: &quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif; font-size: 14px; line-height: 22px; background-color: rgb(246, 248, 250); border-radius: 4px; overflow-x: auto; white-space: pre; overflow-wrap: break-word; min-width: 94%; text-size-adjust: none; position: unset; color: rgb(0, 102, 102) !important;">-</span><span style="box-sizing: border-box; outline: 0px; font-family: &quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif; font-size: 14px; line-height: 22px; background-color: rgb(246, 248, 250); border-radius: 4px; overflow-x: auto; white-space: pre; overflow-wrap: break-word; min-width: 94%; text-size-adjust: none; position: unset; color: rgb(136, 0, 0) !important;">cmd</span> <span style="box-sizing: border-box; outline: 0px; font-family: &quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif; font-size: 14px; line-height: 22px; background-color: rgb(246, 248, 250); border-radius: 4px; overflow-x: auto; white-space: pre; overflow-wrap: break-word; min-width: 94%; text-size-adjust: none; position: unset; color: rgb(0, 102, 102) !important;">-</span><span style="box-sizing: border-box; outline: 0px; font-family: &quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif; font-size: 14px; line-height: 22px; background-color: rgb(246, 248, 250); border-radius: 4px; overflow-x: auto; white-space: pre; overflow-wrap: break-word; min-width: 94%; text-size-adjust: none; position: unset; color: rgb(0, 102, 102) !important;">-</span><span style="box-sizing: border-box; outline: 0px; font-family: &quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif; font-size: 14px; line-height: 22px; background-color: rgb(246, 248, 250); border-radius: 4px; overflow-x: auto; white-space: pre; overflow-wrap: break-word; min-width: 94%; text-size-adjust: none; position: unset; color: rgb(136, 0, 0) !important;">state</span></div></div><div style="box-sizing: border-box; outline: 0px; margin: 0px; padding: 0px 8px; font-family: &quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif; list-style: none; overflow-wrap: break-word; color: rgb(153, 153, 153);"><span style="box-sizing: border-box; outline: 0px; font-family: &quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif; overflow-wrap: break-word; color: rgb(153, 153, 153);">1</span></div><div style="box-sizing: border-box; outline: 0px; margin: 0px 0px 16px; padding: 0px; font-family: &quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif; font-size: 16px; color: rgb(77, 77, 77); line-height: 26px; overflow-wrap: break-word; font-variant-ligatures: common-ligatures; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);"><span style="box-sizing: border-box; outline: 0px; font-family: &quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif; font-size: 16px; color: rgb(77, 77, 77); line-height: 26px; overflow-wrap: break-word; font-variant-ligatures: common-ligatures; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);">停止firewall</span></div><div style="box-sizing: border-box; outline: 0px; margin: 0px 0px 24px; padding: 8px 16px 6px 56px; position: relative; font-family: &quot;Source Code Pro&quot;, &quot;DejaVu Sans Mono&quot;, &quot;Ubuntu Mono&quot;, &quot;Anonymous Pro&quot;, &quot;Droid Sans Mono&quot;, Menlo, Monaco, Consolas, Inconsolata, Courier, monospace, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, sans-serif; font-size: 14px; overflow: auto hidden; line-height: 22px; color: rgb(0, 0, 0); overflow-wrap: break-word; background-color: rgb(246, 248, 250); border: none; font-variant-ligatures: common-ligatures; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px;"><div style="box-sizing: border-box; outline: 0px; margin: 0px; padding: 8px; font-family: &quot;Source Code Pro&quot;, &quot;DejaVu Sans Mono&quot;, &quot;Ubuntu Mono&quot;, &quot;Anonymous Pro&quot;, &quot;Droid Sans Mono&quot;, Menlo, Monaco, Consolas, Inconsolata, Courier, monospace, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, sans-serif; font-size: 14px; line-height: 22px; background-color: rgb(246, 248, 250); border-radius: 4px; overflow-x: auto; white-space: pre; overflow-wrap: break-word; min-width: 94%; text-size-adjust: none; position: unset; color: rgb(79, 79, 79) !important;"><span style="box-sizing: border-box; outline: 0px; font-family: &quot;Source Code Pro&quot;, &quot;DejaVu Sans Mono&quot;, &quot;Ubuntu Mono&quot;, &quot;Anonymous Pro&quot;, &quot;Droid Sans Mono&quot;, Menlo, Monaco, Consolas, Inconsolata, Courier, monospace, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, sans-serif; font-size: 14px; line-height: 22px; background-color: rgb(246, 248, 250); border-radius: 4px; overflow-x: auto; white-space: pre; overflow-wrap: break-word; min-width: 94%; text-size-adjust: none; position: unset; color: rgb(79, 79, 79) !important;">systemctl</span> <span style="box-sizing: border-box; outline: 0px; font-family: &quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif; font-size: 14px; line-height: 22px; background-color: rgb(246, 248, 250); border-radius: 4px; overflow-x: auto; white-space: pre; overflow-wrap: break-word; min-width: 94%; text-size-adjust: none; position: unset; color: rgb(0, 0, 136) !important;">stop</span> <span style="box-sizing: border-box; outline: 0px; font-family: &quot;Source Code Pro&quot;, &quot;DejaVu Sans Mono&quot;, &quot;Ubuntu Mono&quot;, &quot;Anonymous Pro&quot;, &quot;Droid Sans Mono&quot;, Menlo, Monaco, Consolas, Inconsolata, Courier, monospace, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, sans-serif; font-size: 14px; line-height: 22px; background-color: rgb(246, 248, 250); border-radius: 4px; overflow-x: auto; white-space: pre; overflow-wrap: break-word; min-width: 94%; text-size-adjust: none; position: unset; color: rgb(79, 79, 79) !important;">firewalld.service</span></div></div><div style="box-sizing: border-box; outline: 0px; margin: 0px; padding: 0px 8px; font-family: &quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif; list-style: none; overflow-wrap: break-word; color: rgb(153, 153, 153);"><span style="box-sizing: border-box; outline: 0px; font-family: &quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif; overflow-wrap: break-word; color: rgb(153, 153, 153);">1</span></div><div style="box-sizing: border-box; outline: 0px; margin: 0px 0px 16px; padding: 0px; font-family: &quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif; font-size: 16px; color: rgb(77, 77, 77); line-height: 26px; overflow-wrap: break-word; font-variant-ligatures: common-ligatures; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);"><span style="box-sizing: border-box; outline: 0px; font-family: &quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif; font-size: 16px; color: rgb(77, 77, 77); line-height: 26px; overflow-wrap: break-word; font-variant-ligatures: common-ligatures; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);">禁止firewall开机启动</span></div><div style="box-sizing: border-box; outline: 0px; margin: 0px 0px 24px; padding: 8px 16px 6px 56px; position: relative; font-family: &quot;Source Code Pro&quot;, &quot;DejaVu Sans Mono&quot;, &quot;Ubuntu Mono&quot;, &quot;Anonymous Pro&quot;, &quot;Droid Sans Mono&quot;, Menlo, Monaco, Consolas, Inconsolata, Courier, monospace, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, sans-serif; font-size: 14px; overflow: auto hidden; line-height: 22px; color: rgb(0, 0, 0); overflow-wrap: break-word; background-color: rgb(246, 248, 250); border: none; font-variant-ligatures: common-ligatures; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px;"><div style="box-sizing: border-box; outline: 0px; margin: 0px; padding: 8px; font-family: &quot;Source Code Pro&quot;, &quot;DejaVu Sans Mono&quot;, &quot;Ubuntu Mono&quot;, &quot;Anonymous Pro&quot;, &quot;Droid Sans Mono&quot;, Menlo, Monaco, Consolas, Inconsolata, Courier, monospace, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, sans-serif; font-size: 14px; line-height: 22px; background-color: rgb(246, 248, 250); border-radius: 4px; overflow-x: auto; white-space: pre; overflow-wrap: break-word; min-width: 94%; text-size-adjust: none; position: unset; color: rgb(79, 79, 79) !important;"><span style="box-sizing: border-box; outline: 0px; font-family: &quot;Source Code Pro&quot;, &quot;DejaVu Sans Mono&quot;, &quot;Ubuntu Mono&quot;, &quot;Anonymous Pro&quot;, &quot;Droid Sans Mono&quot;, Menlo, Monaco, Consolas, Inconsolata, Courier, monospace, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, sans-serif; font-size: 14px; line-height: 22px; background-color: rgb(246, 248, 250); border-radius: 4px; overflow-x: auto; white-space: pre; overflow-wrap: break-word; min-width: 94%; text-size-adjust: none; position: unset; color: rgb(79, 79, 79) !important;">systemctl disable firewalld</span><span style="box-sizing: border-box; outline: 0px; font-family: &quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif; font-size: 14px; line-height: 22px; background-color: rgb(246, 248, 250); border-radius: 4px; overflow-x: auto; white-space: pre; overflow-wrap: break-word; min-width: 94%; text-size-adjust: none; position: unset; color: rgb(0, 153, 0) !important;">.service</span></div></div><div style="box-sizing: border-box; outline: 0px; margin: 0px; padding: 0px 8px; font-family: &quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif; list-style: none; overflow-wrap: break-word; color: rgb(153, 153, 153);"><br/></div><div style="box-sizing: border-box; outline: 0px; margin: 0px 0px 16px; padding: 0px; font-family: &quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif; font-size: 16px; color: rgb(77, 77, 77); line-height: 26px; overflow-wrap: break-word; font-variant-ligatures: common-ligatures; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);"><span style="box-sizing: border-box; outline: 0px; font-family: &quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif; font-size: 16px; color: rgb(77, 77, 77); line-height: 26px; overflow-wrap: break-word; font-variant-ligatures: common-ligatures; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);">转自：</span><a href="https://www.linuxidc.com/Linux/2016-12/138979.htm" style="box-sizing: border-box; outline: 0px; font-family: &quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif; font-size: 16px; color: rgb(103, 149, 181); line-height: 26px; overflow-wrap: break-word; font-variant-ligatures: common-ligatures; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); cursor: pointer;">CentOS 6和CentOS 7防火墙的关闭</a></div><p style="box-sizing: border-box; outline: 0px; margin: 0px 0px 16px; padding: 0px; font-family: &quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif; font-size: 16px; color: rgb(77, 77, 77); line-height: 26px; overflow-wrap: break-word; font-variant-ligatures: common-ligatures; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);"></p><div>关闭selinux</div><div style="margin-top: 1em; margin-bottom: 1em;"><span style="-en-paragraph:true;">进入到/etc/selinux/config文件</span></div><div style="box-sizing: border-box; outline: 0px; margin: 0px 0px 24px; padding: 8px 16px 6px 56px; position: relative; font-family: &quot;Source Code Pro&quot;, &quot;DejaVu Sans Mono&quot;, &quot;Ubuntu Mono&quot;, &quot;Anonymous Pro&quot;, &quot;Droid Sans Mono&quot;, Menlo, Monaco, Consolas, Inconsolata, Courier, monospace, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, sans-serif; font-size: 14px; overflow: auto hidden; line-height: 22px; color: rgb(0, 0, 0); overflow-wrap: break-word; background-color: rgb(246, 248, 250); border: none; font-variant-ligatures: common-ligatures; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px;"><div style="box-sizing: border-box; outline: 0px; margin: 0px; padding: 8px; font-family: &quot;Source Code Pro&quot;, &quot;DejaVu Sans Mono&quot;, &quot;Ubuntu Mono&quot;, &quot;Anonymous Pro&quot;, &quot;Droid Sans Mono&quot;, Menlo, Monaco, Consolas, Inconsolata, Courier, monospace, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, sans-serif; font-size: 14px; line-height: 22px; background-color: rgb(246, 248, 250); border-radius: 4px; overflow-x: auto; white-space: pre; overflow-wrap: break-word; min-width: 94%; text-size-adjust: none; position: unset; color: rgb(79, 79, 79) !important;"><span style="box-sizing: border-box; outline: 0px; font-family: &quot;Source Code Pro&quot;, &quot;DejaVu Sans Mono&quot;, &quot;Ubuntu Mono&quot;, &quot;Anonymous Pro&quot;, &quot;Droid Sans Mono&quot;, Menlo, Monaco, Consolas, Inconsolata, Courier, monospace, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, sans-serif; font-size: 14px; line-height: 22px; background-color: rgb(246, 248, 250); border-radius: 4px; overflow-x: auto; white-space: pre; overflow-wrap: break-word; min-width: 94%; text-size-adjust: none; position: unset; color: rgb(79, 79, 79) !important;">vi /etc/selinux/config</span></div></div><div style="box-sizing: border-box; outline: 0px; margin: 0px; padding: 0px 8px; font-family: &quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif; list-style: none; overflow-wrap: break-word; color: rgb(153, 153, 153);"><br/></div><div style="box-sizing: border-box; outline: 0px; margin: 0px 0px 16px; padding: 0px; font-family: &quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif; font-size: 16px; color: rgb(77, 77, 77); line-height: 26px; overflow-wrap: break-word; font-variant-ligatures: common-ligatures; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);"><span style="box-sizing: border-box; outline: 0px; font-family: &quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif; font-size: 16px; color: rgb(77, 77, 77); line-height: 26px; overflow-wrap: break-word; font-variant-ligatures: common-ligatures; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);">将SELINUX=enforcing改为SELINUX=disabled</span></div><div style="box-sizing: border-box; outline: 0px; margin: 0px 0px 16px; padding: 0px; font-family: &quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif; font-size: 16px; color: rgb(77, 77, 77); line-height: 26px; overflow-wrap: break-word; font-variant-ligatures: common-ligatures; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);"><span style="box-sizing: border-box; outline: 0px; font-family: &quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif; font-size: 16px; color: rgb(77, 77, 77); line-height: 26px; overflow-wrap: break-word; font-variant-ligatures: common-ligatures; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);">配制免密登录的命令</span></div><div style="box-sizing: border-box; outline: 0px; margin: 0px 0px 24px; padding: 8px 16px 6px 56px; position: relative; font-family: &quot;Source Code Pro&quot;, &quot;DejaVu Sans Mono&quot;, &quot;Ubuntu Mono&quot;, &quot;Anonymous Pro&quot;, &quot;Droid Sans Mono&quot;, Menlo, Monaco, Consolas, Inconsolata, Courier, monospace, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, sans-serif; font-size: 14px; overflow: auto hidden; line-height: 22px; color: rgb(0, 0, 0); overflow-wrap: break-word; background-color: rgb(246, 248, 250); border: none; font-variant-ligatures: common-ligatures; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px;"><div style="box-sizing: border-box; outline: 0px; margin: 0px; padding: 8px; font-family: &quot;Source Code Pro&quot;, &quot;DejaVu Sans Mono&quot;, &quot;Ubuntu Mono&quot;, &quot;Anonymous Pro&quot;, &quot;Droid Sans Mono&quot;, Menlo, Monaco, Consolas, Inconsolata, Courier, monospace, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, sans-serif; font-size: 14px; line-height: 22px; background-color: rgb(246, 248, 250); border-radius: 4px; overflow-x: auto; white-space: pre; overflow-wrap: break-word; min-width: 94%; text-size-adjust: none; position: unset; color: rgb(79, 79, 79) !important;"><div>ssh<span style="box-sizing: border-box; outline: 0px; font-family: &quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif; overflow-wrap: break-word;">-keygen</span> <span style="box-sizing: border-box; outline: 0px; font-family: &quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif; overflow-wrap: break-word;">-t</span> rsa</div><div>ssh<span style="box-sizing: border-box; outline: 0px; font-family: &quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif; overflow-wrap: break-word;">-copy</span><span style="box-sizing: border-box; outline: 0px; font-family: &quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif; overflow-wrap: break-word;">-id</span> root@master</div></div></div><div style="box-sizing: border-box; outline: 0px; margin: 0px; padding: 0px 8px; font-family: &quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif; list-style: none; overflow-wrap: break-word; color: rgb(153, 153, 153);"><br/></div><div style="box-sizing: border-box; outline: 0px; margin: 0px; padding: 0px 8px; font-family: &quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif; list-style: none; overflow-wrap: break-word; color: rgb(153, 153, 153);"><br/></div><div style="box-sizing: border-box; outline: 0px; margin: 0px 0px 16px; padding: 0px; font-family: &quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif; font-size: 16px; color: rgb(77, 77, 77); line-height: 26px; overflow-wrap: break-word; font-variant-ligatures: common-ligatures; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);"><span style="box-sizing: border-box; outline: 0px; font-family: &quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif; font-size: 16px; color: rgb(77, 77, 77); line-height: 26px; overflow-wrap: break-word; font-variant-ligatures: common-ligatures; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);">scp -P 22 /Users/che/Downloads/jdk-8u161-linux-x64.rpm root@192.168.1.100:/software/</span></div><div style="box-sizing: border-box; outline: 0px; margin: 0px 0px 24px; padding: 8px 16px 6px 56px; position: relative; font-family: &quot;Source Code Pro&quot;, &quot;DejaVu Sans Mono&quot;, &quot;Ubuntu Mono&quot;, &quot;Anonymous Pro&quot;, &quot;Droid Sans Mono&quot;, Menlo, Monaco, Consolas, Inconsolata, Courier, monospace, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, sans-serif; font-size: 14px; overflow: auto hidden; line-height: 22px; color: rgb(0, 0, 0); overflow-wrap: break-word; background-color: rgb(246, 248, 250); border: none; font-variant-ligatures: common-ligatures; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px;"><div style="box-sizing: border-box; outline: 0px; margin: 0px; padding: 0.5em; font-family: &quot;Source Code Pro&quot;, &quot;DejaVu Sans Mono&quot;, &quot;Ubuntu Mono&quot;, &quot;Anonymous Pro&quot;, &quot;Droid Sans Mono&quot;, Menlo, Monaco, Consolas, Inconsolata, Courier, monospace, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, sans-serif; font-size: 14px; line-height: 22px; color: rgb(0, 0, 0); background-color: rgba(0, 0, 0, 0.05); border-radius: 4px; overflow-x: auto; white-space: pre; overflow-wrap: break-word; min-width: 94%; text-size-adjust: none; position: unset;"><div>安装: yum install -y jdk-8u161-linux-x64.rpm</div><div>设置环境变量</div><div>cd /usr/java/</div><div><br/></div><div>/usr/java/jdk1.8.0_161</div><div><br/></div><div>vi /etc/profile</div><div><br/></div><div>export JAVA_HOME=/usr/java/jdk1.8.0_161</div><div>export PATH=$JAVA_HOME/bin:$PATH</div></div></div><div style="box-sizing: border-box; outline: 0px; margin: 0px; padding: 0px 8px; font-family: &quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif; list-style: none; overflow-wrap: break-word; color: rgb(153, 153, 153);"><br/></div><p style="box-sizing: border-box; outline: 0px; margin: 0px 0px 16px; padding: 0px; font-family: &quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif; font-size: 16px; color: rgb(77, 77, 77); line-height: 26px; overflow-wrap: break-word; font-variant-ligatures: common-ligatures; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);"></p><div>安装hadoop</div><div>下载安装包</div><div style="margin-top: 1em; margin-bottom: 1em;"><span style="-en-paragraph:true;">hadoop-26.5.tar.gz</span></div><div style="box-sizing: border-box; outline: 0px; margin: 0px 0px 24px; padding: 8px 16px 6px 56px; position: relative; font-family: &quot;Source Code Pro&quot;, &quot;DejaVu Sans Mono&quot;, &quot;Ubuntu Mono&quot;, &quot;Anonymous Pro&quot;, &quot;Droid Sans Mono&quot;, Menlo, Monaco, Consolas, Inconsolata, Courier, monospace, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, sans-serif; font-size: 14px; overflow: auto hidden; line-height: 22px; color: rgb(0, 0, 0); overflow-wrap: break-word; background-color: rgb(246, 248, 250); border: none; font-variant-ligatures: common-ligatures; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px;"><div style="box-sizing: border-box; outline: 0px; margin: 0px; padding: 0.5em; font-family: &quot;Source Code Pro&quot;, &quot;DejaVu Sans Mono&quot;, &quot;Ubuntu Mono&quot;, &quot;Anonymous Pro&quot;, &quot;Droid Sans Mono&quot;, Menlo, Monaco, Consolas, Inconsolata, Courier, monospace, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, sans-serif; font-size: 14px; line-height: 22px; color: rgb(0, 0, 0); background-color: rgba(0, 0, 0, 0.05); border-radius: 4px; overflow-x: auto; white-space: pre; overflow-wrap: break-word; min-width: 94%; text-size-adjust: none; position: unset;"><div>cd /usr/</div><div>mv /software/hadoop-2.6.5.tar.gz ./</div><div>解压</div><div>tar -xzvf ./hadoop-2.6.5.tar.gz</div><div><br/></div><div>创建目录</div><div>namenode目录：/data/hadoop/namenode</div><div>data目录： /data/hadoop/data</div><div>tmp目录： /data/hadoop/tmp</div><div>mkdir -p /data/hadoop/namenode</div><div><br/></div><div>配制</div><div>core-site.xml</div><div>hdfs-site.xml</div><div>mapred-site.xml.template mapred-site.xml</div><div>cp mapred-site.xml.template mapred-site.xml</div><div>yarn-site.xml</div><div><br/></div><div>slaves (slave1,slave2)</div><div>masters (master)</div><div><br/></div><div>hadoop-env.sh</div><div>export JAVA_HOME=/usr/java/jdk1.8.0_161</div><div><br/></div><div>将master的配制copy到slave1、slave2</div><div>scp -r ./* root@slave1:/software/hadoop-2.6.5/etc/hadoop/</div><div><br/></div><div>格式化</div><div>cd hadoop-2.6.5/bin</div><div>./hdfs namenode -format</div><div><br/></div><div>启动</div><div>cd ../sbin/</div><div><br/></div><div>./start-dfs.sh</div><div><br/></div><div>ssh-copy-id root@master</div><div><br/></div><div>jps(检查一下)</div><div><br/></div><div>./start-yarn.sh</div><div><br/></div><div>cd ../bin</div><div><br/></div><div>hadoop fs -ls /</div><div>hadoop fs -mkdir /user</div><div><br/></div><div>/software/hadoop-2.6.5/bin</div><div><br/></div><div>vi/etc/profile</div><div><br/></div><div>export HADOOP_HOME=/software/hadoop-2.6.5</div><div>export PATH=$JAVA_HOME/bin:$HADOOP_HOME/bin:$PATH</div><div><br/></div><div>source /etc/profile</div><div><br/></div><div>hadoop fs -put /software/hadoop-2.6.5.tar.gz /user</div><div><br/></div><div>测试2：</div><div>cd share/hadoop/mapreduce</div><div>hadoop jar ./hadoop-mapreduce-examples-2.6.5.jar pi 5 10</div><div><br/></div><div>192.168.1.100:50070</div><div>192.168.1.100:8088</div><div><br/></div><div>修改ssh端口</div><div>vim /etc/ssh/sshd_config</div></div></div><div style="box-sizing: border-box; outline: 0px; margin: 0px; padding: 0px 8px; font-family: &quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif; list-style: none; overflow-wrap: break-word; color: rgb(153, 153, 153);">设置ntp时间同步服务<br/></div><div>1、安装ntp</div><div>yum install -y ntp</div><div>2、设置NTP服务开机启动</div><div>chkconfig ntpd on</div><div style="margin-top: 1em; margin-bottom: 1em;"><span style="-en-paragraph:true;">service nptd start</span></div></div></span>
</div>
<hr>
<a name="1760"/>
<div>
<table bgcolor="#D4DDE5" border="0">
<tr><td><b>作者：</b></td><td><i>849040099@qq.com</i></td></tr>
</table>
</div>
<br/>

<div>
<span><div style="margin: 0px 0px 20px; padding: 0px; word-break: break-word; color: rgb(57, 57, 57); font-family: verdana, &quot;ms song&quot;, Arial, Helvetica, sans-serif; font-size: 14px; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-align: left; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(250, 247, 239);"><p style="margin: 10px auto; padding: 0px; text-indent: 0px;"></p><div>Linux wget是一个下载文件的工具，它用在命令行下。对于Linux用户是必不可少的工具，尤其对于网络管理员，经常要下载一些软件或从远程服务器恢复备份到本地服务器。如果我们使用虚拟主机，处理这样的事务我们只能先从远程服务器下载到我们电脑磁盘，然后再用ftp工具上传到服务器。这样既浪费时间又浪费精力，那不没办法的事。而到了Linux VPS，它则可以直接下载到服务器而不用经过上传这一步。wget工具体积小但功能完善，它支持断点下载功能，同时支持FTP和HTTP下载方式，支持代理服务器和设置起来方便简单。下面我们以实例的形式说明怎么使用wget。</div><div><br style="margin: 0px; padding: 0px;"/></div><div><span style="font-weight: bold;">1、使用wget下载单个文件</span></div><div><br style="margin: 0px; padding: 0px;"/></div><div>以下的例子是从网络下载一个文件并保存在当前目录</div><div><br style="margin: 0px; padding: 0px;"/></div><div>wget <a href="http://cn.wordpress.org/wordpress-3.1-zh_CN.zip">http://cn.wordpress.org/wordpress-3.1-zh_CN.zip</a></div><div><br style="margin: 0px; padding: 0px;"/></div><div>在下载的过程中会显示进度条，包含（下载完成百分比，已经下载的字节，当前下载速度，剩余下载时间）。</div><div><br style="margin: 0px; padding: 0px;"/></div><div><span style="font-weight: bold;">2、使用wget -O下载并以不同的文件名保存</span></div><div><br style="margin: 0px; padding: 0px;"/></div><div>wget默认会以最后一个符合”/”的后面的字符来命令，对于动态链接的下载通常文件名会不正确。</div><div>错误：下面的例子会下载一个文件并以名称download.php?id=1080保存</div><div><br style="margin: 0px; padding: 0px;"/></div><div>wget <a href="http://www.centos.bz/download?id=1">http://www.centos.bz/download?id=1</a></div><div>即使下载的文件是zip格式，它仍然以download.php?id=1080命令。</div><div>正确：为了解决这个问题，我们可以使用参数-O来指定一个文件名：</div><div><br style="margin: 0px; padding: 0px;"/></div><div>wget -O wordpress.zip <a href="http://www.centos.bz/download.php?id=1080">http://www.centos.bz/download.php?id=1080</a></div><div><br style="margin: 0px; padding: 0px;"/></div><div><span style="font-weight: bold;">3、使用wget –limit -rate限速下载</span></div><div>当你执行wget的时候，它默认会占用全部可能的宽带下载。但是当你准备下载一个大文件，而你还需要下载其它文件时就有必要限速了。</div><div><br style="margin: 0px; padding: 0px;"/></div><div>wget –limit-rate=300k <a href="http://cn.wordpress.org/wordpress-3.1-zh_CN.zip">http://cn.wordpress.org/wordpress-3.1-zh_CN.zip</a></div><div><br style="margin: 0px; padding: 0px;"/></div><div><span style="font-weight: bold;">4、使用wget -c断点续传</span></div><div>使用wget -c重新启动下载中断的文件:</div><div><br style="margin: 0px; padding: 0px;"/></div><div>wget -c <a href="http://cn.wordpress.org/wordpress-3.1-zh_CN.zip">http://cn.wordpress.org/wordpress-3.1-zh_CN.zip</a></div><div>对于我们下载大文件时突然由于网络等原因中断非常有帮助，我们可以继续接着下载而不是重新下载一个文件。需要继续中断的下载时可以使用-c参数。</div><div><br style="margin: 0px; padding: 0px;"/></div><div><span style="font-weight: bold;">5、使用wget -b后台下载</span></div><div>对于下载非常大的文件的时候，我们可以使用参数-b进行后台下载。</div><div><br style="margin: 0px; padding: 0px;"/></div><div>wget -b <a href="http://cn.wordpress.org/wordpress-3.1-zh_CN.zip">http://cn.wordpress.org/wordpress-3.1-zh_CN.zip</a></div><div>Continuing in background, pid 1840.</div><div>Output will be written to `wget-log’.</div><div>你可以使用以下命令来察看下载进度</div><div><br style="margin: 0px; padding: 0px;"/></div><div>tail -f wget-log</div><div><br style="margin: 0px; padding: 0px;"/></div><div><span style="font-weight: bold;">6、伪装代理名称下载</span></div><div>有些网站能通过根据判断代理名称不是浏览器而拒绝你的下载请求。不过你可以通过–user-agent参数伪装。</div><div><br style="margin: 0px; padding: 0px;"/></div><div>wget –user-agent=”Mozilla/5.0 (Windows; U; Windows NT 6.1; en-US) AppleWebKit/534.16 (KHTML, like Gecko) Chrome/10.0.648.204 Safari/534.16″ 下载链接</div><div><br style="margin: 0px; padding: 0px;"/></div><div><span style="font-weight: bold;">7、使用wget –spider测试下载链接</span></div><div>当你打算进行定时下载，你应该在预定时间测试下载链接是否有效。我们可以增加–spider参数进行检查。</div><div><br style="margin: 0px; padding: 0px;"/></div><div>wget –spider URL</div><div>如果下载链接正确，将会显示</div><div><br style="margin: 0px; padding: 0px;"/></div><div>wget –spider URL</div><div>Spider mode enabled. Check if remote file exists.</div><div>HTTP request sent, awaiting response… 200 OK</div><div>Length: unspecified [text/html]</div><div>Remote file exists and could contain further links,</div><div>but recursion is disabled — not retrieving.</div><div>这保证了下载能在预定的时间进行，但当你给错了一个链接，将会显示如下错误</div><div><br style="margin: 0px; padding: 0px;"/></div><div>wget –spider url</div><div>Spider mode enabled. Check if remote file exists.</div><div>HTTP request sent, awaiting response… 404 Not Found</div><div>Remote file does not exist — broken link!!!</div><div>你可以在以下几种情况下使用spider参数：</div><div><br style="margin: 0px; padding: 0px;"/></div><div>定时下载之前进行检查</div><div>间隔检测网站是否可用</div><div>检查网站页面的死链接</div><div><br style="margin: 0px; padding: 0px;"/></div><div><span style="font-weight: bold;">8、使用wget –tries增加重试次数</span></div><div>如果网络有问题或下载一个大文件也有可能失败。wget默认重试20次连接下载文件。如果需要，你可以使用–tries增加重试次数。</div><div><br style="margin: 0px; padding: 0px;"/></div><div>wget –tries=40 URL</div><div><br style="margin: 0px; padding: 0px;"/></div><div><span style="font-weight: bold;">9、使用wget -i下载多个文件</span></div><div>首先，保存一份下载链接文件</div><div><br style="margin: 0px; padding: 0px;"/></div><div>cat &gt; filelist.txt</div><div>url1</div><div>url2</div><div>url3</div><div>url4</div><div>接着使用这个文件和参数-i下载</div><div><br style="margin: 0px; padding: 0px;"/></div><div>wget -i filelist.txt</div><div><br style="margin: 0px; padding: 0px;"/></div><div><span style="font-weight: bold;">10、使用wget –mirror镜像网站</span></div><div>下面的例子是下载整个网站到本地。</div><div><br style="margin: 0px; padding: 0px;"/></div><div>wget –mirror -p –convert-links -P ./LOCAL URL</div><div>–miror:开户镜像下载</div><div>-p:下载所有为了html页面显示正常的文件</div><div>–convert-links:下载后，转换成本地的链接</div><div>-P ./LOCAL：保存所有文件和目录到本地指定目录</div><div><br style="margin: 0px; padding: 0px;"/></div><div><span style="font-weight: bold;">11、使用wget –reject过滤指定格式下载</span></div><div>你想下载一个网站，但你不希望下载图片，你可以使用以下命令。</div><div><br style="margin: 0px; padding: 0px;"/></div><div>wget –reject=gif url</div><div><br style="margin: 0px; padding: 0px;"/></div><div><span style="font-weight: bold;">12、使用wget -o把下载信息存入日志文件</span></div><div>你不希望下载信息直接显示在终端而是在一个日志文件，可以使用以下命令：</div><div><br style="margin: 0px; padding: 0px;"/></div><div>wget -o download.log URL</div><div><br style="margin: 0px; padding: 0px;"/></div><div><span style="font-weight: bold;">13、使用wget -Q限制总下载文件大小</span></div><div>当你想要下载的文件超过5M而退出下载，你可以使用以下命令:</div><div><br style="margin: 0px; padding: 0px;"/></div><div>wget -Q5m -i filelist.txt</div><div>注意：这个参数对单个文件下载不起作用，只能递归下载时才有效。</div><div><br style="margin: 0px; padding: 0px;"/></div><div><span style="font-weight: bold;">14、使用wget -r -A下载指定格式文件</span></div><div>可以在以下情况使用该功能</div><div><br style="margin: 0px; padding: 0px;"/></div><div>下载一个网站的所有图片</div><div>下载一个网站的所有视频</div><div>下载一个网站的所有PDF文件</div><div>wget -r -A.pdf url</div><div><br style="margin: 0px; padding: 0px;"/></div><div><span style="font-weight: bold;">15、使用wget FTP下载</span></div><div>你可以使用wget来完成ftp链接的下载。</div><div>使用wget匿名ftp下载</div><div><br style="margin: 0px; padding: 0px;"/></div><div>wget ftp-url</div><div><br style="margin: 0px; padding: 0px;"/></div><div>使用wget用户名和密码认证的ftp下载</div><div><br style="margin: 0px; padding: 0px;"/></div><div>wget –ftp-user=USERNAME –ftp-password=PASSWORD url</div><div><br style="margin: 0px; padding: 0px;"/></div><div><span style="font-weight: bold;">wget是在Linux下开发的开放源代码的软件，作者是Hrvoje Niksic，后来被移植到包括Windows在内的各个平台上。它有以下功能和特点：</span></div><div><br style="margin: 0px; padding: 0px;"/></div><div>（1）支持断点下传功能；这一点，也是网络蚂蚁和FlashGet当年最大的卖点，现在，Wget也可以使用此功能，那些网络不是太好的用户可以放心了；</div><div>（2）同时支持FTP和HTTP下载方式；尽管现在大部分软件可以使用HTTP方式下载，但是，有些时候，仍然需要使用FTP方式下载软件；</div><div>（3）支持代理服务器；对安全强度很高的系统而言，一般不会将自己的系统直接暴露在互联网上，所以，支持代理是下载软件必须有的功能；</div><div>（4）设置方便简单；可能，习惯图形界面的用户已经不是太习惯命令行了，但是，命令行在设置上其实有更多的优点，最少，鼠标可以少点很多次，也不要担心是否错点鼠标；</div><div>（5）程序小，完全免费；程序小可以考虑不计，因为现在的硬盘实在太大了；完全免费就不得不考虑了，即使网络上有很多所谓的免费软件，但是，这些软件的广告却不是我们喜欢的；</div><div><br style="margin: 0px; padding: 0px;"/></div><div>wget虽然功能强大，但是使用起来还是比较简单的，基本的语法是：wget [参数列表] URL。下面就结合具体的例子来说明一下wget的用法。</div><div><br style="margin: 0px; padding: 0px;"/></div><div><span style="font-weight: bold;">1、下载整个http或者ftp站点。</span></div><div>wget <a href="http://place.your.url/here">http://place.your.url/here</a></div><div>这个命令可以将<a href="http://place.your.url/here">http://place.your.url/here</a> 首页下载下来。使用-x会强制建立服务器上一模一样的目录，如果使用-nd参数，那么服务器上下载的所有内容都会加到本地当前目录。</div><div><br style="margin: 0px; padding: 0px;"/></div><div>wget -r <a href="http://place.your.url/here">http://place.your.url/here</a></div><div>这 个命令会按照递归的方法，下载服务器上所有的目录和文件，实质就是下载整个网站。这个命令一定要小心使用，因为在下载的时候，被下载网站指向的所有地址同 样会被下载，因此，如果这个网站引用了其他网站，那么被引用的网站也会被下载下来！基于这个原因，这个参数不常用。可以用-l number参数来指定下载的层次。例如只下载两层，那么使用-l 2。</div><div><br style="margin: 0px; padding: 0px;"/></div><div>要是您想制作镜像站点，那么可以使用－m参数，例如：wget -m <a href="http://place.your.url/here">http://place.your.url/here</a></div><div>这时wget会自动判断合适的参数来制作镜像站点。此时，wget会登录到服务器上，读入robots.txt并按robots.txt的规定来执行。</div><div><br style="margin: 0px; padding: 0px;"/></div><div><span style="font-weight: bold;">2、断点续传。</span></div><div>当文件特别大或者网络特别慢的时候，往往一个文件还没有下载完，连接就已经被切断，此时就需要断点续传。wget的断点续传是自动的，只需要使用-c参数，例如：</div><div>wget -c <a href="http://the.url.of/incomplete/file">http://the.url.of/incomplete/file</a></div><div>使用断点续传要求服务器支持断点续传。-t参数表示重试次数，例如需要重试100次，那么就写-t 100，如果设成-t 0，那么表示无穷次重试，直到连接成功。-T参数表示超时等待时间，例如-T 120，表示等待120秒连接不上就算超时。</div><div><br style="margin: 0px; padding: 0px;"/></div><div><span style="font-weight: bold;">3、批量下载。</span></div><div>如果有多个文件需要下载，那么可以生成一个文件，把每个文件的URL写一行，例如生成文件download.txt，然后用命令：wget -i download.txt</div><div>这样就会把download.txt里面列出的每个URL都下载下来。（如果列的是文件就下载文件，如果列的是网站，那么下载首页）</div><div><br style="margin: 0px; padding: 0px;"/></div><div><span style="font-weight: bold;">4、选择性的下载。</span></div><div>可以指定让wget只下载一类文件，或者不下载什么文件。例如：</div><div>wget -m –reject=gif <a href="http://target.web.site/subdirectory">http://target.web.site/subdirectory</a></div><div>表示下载<a href="http://target.web.site/subdirectory">http://target.web.site/subdirectory</a>，但是忽略gif文件。–accept=LIST 可以接受的文件类型，–reject=LIST拒绝接受的文件类型。</div><div><br style="margin: 0px; padding: 0px;"/></div><div><span style="font-weight: bold;">5、密码和认证。</span></div><div>wget只能处理利用用户名/密码方式限制访问的网站，可以利用两个参数：</div><div>–http-user=USER设置HTTP用户</div><div>–http-passwd=PASS设置HTTP密码</div><div>对于需要证书做认证的网站，就只能利用其他下载工具了，例如curl。</div><div><br style="margin: 0px; padding: 0px;"/></div><div><span style="font-weight: bold;">6、利用代理服务器进行下载。</span></div><div>如果用户的网络需要经过代理服务器，那么可以让wget通过代理服务器进行文件的下载。此时需要在当前用户的目录下创建一个.wgetrc文件。文件中可以设置代理服务器：</div><div>http-proxy = 111.111.111.111:8080</div><div>ftp-proxy = 111.111.111.111:8080</div><div>分别表示http的代理服务器和ftp的代理服务器。如果代理服务器需要密码则使用：</div><div>–proxy-user=USER设置代理用户</div><div>–proxy-passwd=PASS设置代理密码</div><div>这两个参数。</div><div>使用参数–proxy=on/off 使用或者关闭代理。</div><div>wget还有很多有用的功能，需要用户去挖掘。</div><div><br style="margin: 0px; padding: 0px;"/></div><div>附录：</div><div><br style="margin: 0px; padding: 0px;"/></div><div>命令格式：</div><div>wget [参数列表] [目标软件、网页的网址]</div><div><br style="margin: 0px; padding: 0px;"/></div><div>-V,–version 显示软件版本号然后退出；</div><div>-h,–help显示软件帮助信息；</div><div>-e,–execute=COMMAND 执行一个 “.wgetrc”命令</div><div><br style="margin: 0px; padding: 0px;"/></div><div>-o,–output-file=FILE 将软件输出信息保存到文件；</div><div>-a,–append-output=FILE将软件输出信息追加到文件；</div><div>-d,–debug显示输出信息；</div><div>-q,–quiet 不显示输出信息；</div><div>-i,–input-file=FILE 从文件中取得URL；</div><div><br style="margin: 0px; padding: 0px;"/></div><div>-t,–tries=NUMBER 是否下载次数（0表示无穷次）</div><div>-O –output-document=FILE下载文件保存为别的文件名</div><div>-nc, –no-clobber 不要覆盖已经存在的文件</div><div>-N,–timestamping只下载比本地新的文件</div><div>-T,–timeout=SECONDS 设置超时时间</div><div>-Y,–proxy=on/off 关闭代理</div><div><br style="margin: 0px; padding: 0px;"/></div><div>-nd,–no-directories 不建立目录</div><div>-x,–force-directories 强制建立目录</div><div><br style="margin: 0px; padding: 0px;"/></div><div>–http-user=USER设置HTTP用户</div><div>–http-passwd=PASS设置HTTP密码</div><div>–proxy-user=USER设置代理用户</div><div>–proxy-passwd=PASS设置代理密码</div><div><br style="margin: 0px; padding: 0px;"/></div><div>-r,–recursive 下载整个网站、目录（小心使用）</div><div>-l,–level=NUMBER 下载层次</div><div><br style="margin: 0px; padding: 0px;"/></div><div>-A,–accept=LIST 可以接受的文件类型</div><div>-R,–reject=LIST拒绝接受的文件类型</div><div>-D,–domains=LIST可以接受的域名</div><div>–exclude-domains=LIST拒绝的域名</div><div>-L,–relative 下载关联链接</div><div>–follow-ftp 只下载FTP链接</div><div>-H,–span-hosts 可以下载外面的主机</div><div>-I,–include-directories=LIST允许的目录</div><div>-X,–exclude-directories=LIST 拒绝的目录</div><div><br style="margin: 0px; padding: 0px;"/></div><div>中文文档名在平常的情况下会被编码， 但是在 –cut-dirs 时又是正常的，</div><div>wget -r -np -nH –cut-dirs=3 <a href="ftp://host/test/">ftp://host/test/</a></div><div>测试.txt</div><div>wget -r -np -nH -nd <a href="ftp://host/test/">ftp://host/test/</a></div><div>%B4%FA%B8%D5.txt</div><div>wget “<a href="ftp://host/test/">ftp://host/test/</a>*”</div><div>%B4%FA%B8%D5.txt</div><div><br style="margin: 0px; padding: 0px;"/></div><div>由 於不知名的原因，可能是为了避开特殊档名， wget 会自动将抓取档名的部分用 encode_string 处理过， 所以该 patch 就把被 encode_string 处理成 “%3A” 这种东西， 用 decode_string 还原成 “:”，并套用在目录与档案名称的部分，decode_string 是 wget 内建的函式。</div><div><br style="margin: 0px; padding: 0px;"/></div><div style="margin-top: 1em; margin-bottom: 1em;"><span style="-en-paragraph:true;">wget -t0 -c -nH -x -np -b -m -P /home/sunny/NOD32view/ <a href="http://downloads1.kaspersky-labs.com/bases/">http://downloads1.kaspersky-labs.com/bases/</a> -o wget.log</span></div></div><div style="margin: 20px 0px 0px; padding: 0px; color: rgb(57, 57, 57); font-family: verdana, &quot;ms song&quot;, Arial, Helvetica, sans-serif; font-size: 14px; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-align: left; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(250, 247, 239);"><div style="margin: 0px; padding: 0px;"><div style="margin: 10px 0px; padding: 10px 0px; border: 1px dashed rgb(192, 192, 192); font-size: 12px; width: 350px; text-align: center;"><span style="border: none !important; font-size: 12px; width: 350px; color: rgb(255, 255, 255) !important; background: url(&quot;data; display: inline-block; font-weight: bold; cursor: pointer; border-radius: 10px; box-shadow: rgba(0, 0, 0, 0.5) 0px 1px 3px; text-shadow: rgba(0, 0, 0, 0.25) 0px -1px 1px; vertical-align: middle;">好文要顶</span><span style="border: 1px dashed rgb(192, 192, 192); font-size: 12px; width: 350px;"> </span><span style="border: none !important; font-size: 12px; width: 350px; color: rgb(255, 255, 255) !important; background: url(&quot;data; display: inline-block; font-weight: bold; cursor: pointer; border-radius: 10px; box-shadow: rgba(0, 0, 0, 0.5) 0px 1px 3px; text-shadow: rgba(0, 0, 0, 0.25) 0px -1px 1px; vertical-align: middle;">关注我</span><span style="border: 1px dashed rgb(192, 192, 192); font-size: 12px; width: 350px;"> </span><span style="border: none !important; font-size: 12px; width: 350px; color: rgb(255, 255, 255) !important; background: url(&quot;data; display: inline-block; font-weight: bold; cursor: pointer; border-radius: 10px; box-shadow: rgba(0, 0, 0, 0.5) 0px 1px 3px; text-shadow: rgba(0, 0, 0, 0.25) 0px -1px 1px; vertical-align: middle;">收藏该文</span><span style="border: 1px dashed rgb(192, 192, 192); font-size: 12px; width: 350px;"> </span><img src="https://common.cnblogs.com/images/icon_weibo_24.png" style="margin: 0px 0px 0px 5px; padding: 0px; border: none; vertical-align: middle; box-shadow: none;"></img><span style="border: 1px dashed rgb(192, 192, 192); font-size: 12px; width: 350px;"> </span><img src="https://common.cnblogs.com/images/wechat.png" style="margin: 0px 0px 0px 5px; padding: 0px; border: medium none; width: 24px; height: 24px; box-shadow: none; vertical-align: middle;"></img></div></div></div><div><br/></div></span>
</div>
<hr>
<a name="1782"/>
<div>
<table bgcolor="#D4DDE5" border="0">
<tr><td><b>作者：</b></td><td><i>849040099@qq.com</i></td></tr>
</table>
</div>
<br/>

<div>
<span><div><div style="font-size: 14px; letter-spacing: normal; orphans: 2; text-align: justify; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(250, 250, 252); margin-top: 1em; margin-bottom: 1em;"><span style="font-size: 14px;letter-spacing: normal;orphans: 2;text-indent: 0px;text-transform: none;white-space: normal;widows: 2;word-spacing: 0px;-webkit-text-stroke-width: 0px;background-color: rgb(250, 250, 252);-en-paragraph:true;"><br/></span></div><div style="text-align: justify;"><span style="font-size: 11pt; color: rgb(51, 51, 51); font-family: tahoma;">1.防火墙状态</span></div><div style="text-align: justify;"><span style="font-size: 11pt; color: rgb(51, 51, 51); font-family: tahoma;">接着先是看centos7的防火墙的状态，查看的命令为</span></div><div style="text-align: justify;"><span style="font-size: 11pt; color: rgb(51, 51, 51); font-family: tahoma;">sudo systemctl status firewalld。</span></div><div style="text-align: justify;"><span style="font-size: 11pt; color: rgb(51, 51, 51); font-family: tahoma;">查看后，看到active(running)就意味着防火墙打开了。</span></div><div style="text-align: justify;"><span style="font-size: 11pt;"><br/></span></div><div style="text-align: justify;"><span style="font-size: 11pt; color: rgb(51, 51, 51); font-family: tahoma;">2.启动防火墙</span></div><div style="text-align: justify;"><span style="font-size: 11pt; color: rgb(51, 51, 51); font-family: tahoma;">打开防火墙的命令为：</span></div><div style="text-align: justify;"><span style="font-size: 11pt; color: rgb(51, 51, 51); font-family: tahoma;">sudo systemctl start firewalld。</span></div><div style="text-align: justify;"><span style="font-size: 11pt;"><br/></span></div><div style="text-align: justify;"><span style="font-size: 11pt; color: rgb(51, 51, 51); font-family: tahoma;">3.关闭防火墙</span></div><div style="text-align: justify;"><span style="font-size: 11pt; color: rgb(51, 51, 51); font-family: tahoma;">如果想关闭防火墙，命令为：</span></div><div style="text-align: justify;"><span style="font-size: 11pt; color: rgb(51, 51, 51); font-family: tahoma;">sudo systemctl stop firewalld。</span></div><div style="text-align: justify;"><span style="font-size: 11pt; color: rgb(51, 51, 51); font-family: tahoma;">关闭后查看是否关闭成功，如果看到inactive(dead)就意味着防火墙关闭了。</span></div><div style="text-align: justify;"><br/></div><div style="text-align: justify;"><br/></div><div style="text-align: justify;"><br/></div><div style="font-size: 14px; letter-spacing: normal; orphans: 2; text-align: justify; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(250, 250, 252); margin-top: 1em; margin-bottom: 1em;"><span style="font-size: 14px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(250, 250, 252); color: rgb(51, 51, 51); font-family: tahoma, 宋体; font-variant-caps: normal; font-variant-ligatures: normal;-en-paragraph:true;">这篇文章主要为大家详细介绍了</span><a href="https://www.linuxidc.com/topicnews.aspx?tid=14" style="font-size: 14px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(250, 250, 252); color: rgb(179, 43, 213); font-family: tahoma, 宋体; font-variant-caps: normal; font-variant-ligatures: normal; text-decoration: underline;-en-paragraph:true;" title="CentOS">CentOS</a><span style="font-size: 14px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(250, 250, 252); color: rgb(51, 51, 51); font-family: tahoma, 宋体; font-variant-caps: normal; font-variant-ligatures: normal;-en-paragraph:true;"> </span><span style="font-size: 14px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(250, 250, 252); color: rgb(51, 51, 51); font-family: tahoma, 宋体; font-variant-caps: normal; font-variant-ligatures: normal;-en-paragraph:true;">7防火墙开放端口的快速方法，感兴趣的小伙伴们可以参考一下!</span></div><div style="font-size: 14px; letter-spacing: normal; orphans: 2; text-align: justify; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(250, 250, 252); margin-top: 1em; margin-bottom: 1em;"><span style="font-size: 14px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(250, 250, 252); color: rgb(51, 51, 51); font-family: tahoma, 宋体; font-variant-caps: normal; font-variant-ligatures: normal;-en-paragraph:true;">一、CentOS 7快速开放端口：</span></div><div style="font-size: 14px; letter-spacing: normal; orphans: 2; text-align: justify; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(250, 250, 252); margin-top: 1em; margin-bottom: 1em;"><span style="font-size: 14px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(250, 250, 252); color: rgb(51, 51, 51); font-family: tahoma, 宋体; font-variant-caps: normal; font-variant-ligatures: normal;-en-paragraph:true;">CentOS升级到7之后，发现无法使用iptables控制Linuxs的端口，baidu之后发现Centos 7使用firewalld代替了原来的iptables。下面记录如何使用firewalld开放Linux端口：</span></div><div style="font-size: 14px; letter-spacing: normal; orphans: 2; text-align: justify; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(250, 250, 252); margin-top: 1em; margin-bottom: 1em;"><span style="font-size: 14px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(250, 250, 252); color: rgb(51, 51, 51); font-family: tahoma, 宋体; font-variant-caps: normal; font-variant-ligatures: normal;-en-paragraph:true;">开启端口</span></div><p style="color: rgb(51, 51, 51); font-family: tahoma, 宋体; font-size: 14px; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-align: justify; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(250, 250, 252);"></p><div><br/></div><div style="margin-top: 1em; margin-bottom: 1em;"><span style="-en-paragraph:true;">[root@centos7 ~]# firewall-cmd --zone=public --add-port=80/tcp --permanent</span></div><div style="font-size: 14px; letter-spacing: normal; orphans: 2; text-align: justify; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(250, 250, 252); margin-top: 1em; margin-bottom: 1em;"><span style="font-size: 14px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(250, 250, 252); color: rgb(51, 51, 51); font-family: tahoma, 宋体; font-variant-caps: normal; font-variant-ligatures: normal;-en-paragraph:true;">查询端口号80 是否开启：</span></div><div style="font-size: 14px; letter-spacing: normal; orphans: 2; text-align: justify; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(250, 250, 252); margin-top: 1em; margin-bottom: 1em;"><span style="font-size: 14px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(250, 250, 252); color: rgb(51, 51, 51); font-family: tahoma, 宋体; font-variant-caps: normal; font-variant-ligatures: normal;-en-paragraph:true;">[root@centos7 ~]# firewall-cmd --query-port=80/tcp</span></div><div style="font-size: 14px; letter-spacing: normal; orphans: 2; text-align: justify; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(250, 250, 252); margin-top: 1em; margin-bottom: 1em;"><span style="font-size: 14px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(250, 250, 252); color: rgb(51, 51, 51); font-family: tahoma, 宋体; font-variant-caps: normal; font-variant-ligatures: normal;-en-paragraph:true;">重启防火墙：</span></div><div style="font-size: 14px; letter-spacing: normal; orphans: 2; text-align: justify; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(250, 250, 252); margin-top: 1em; margin-bottom: 1em;"><span style="font-size: 14px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(250, 250, 252); color: rgb(51, 51, 51); font-family: tahoma, 宋体; font-variant-caps: normal; font-variant-ligatures: normal;-en-paragraph:true;">[root@centos7 ~]# firewall-cmd --reload</span></div><div style="font-size: 14px; letter-spacing: normal; orphans: 2; text-align: justify; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(250, 250, 252); margin-top: 1em; margin-bottom: 1em;"><span style="font-size: 14px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(250, 250, 252); color: rgb(51, 51, 51); font-family: tahoma, 宋体; font-variant-caps: normal; font-variant-ligatures: normal;-en-paragraph:true;">查询有哪些端口是开启的:</span></div><div style="font-size: 14px; letter-spacing: normal; orphans: 2; text-align: justify; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(250, 250, 252); margin-top: 1em; margin-bottom: 1em;"><span style="font-size: 14px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(250, 250, 252); color: rgb(51, 51, 51); font-family: tahoma, 宋体; font-variant-caps: normal; font-variant-ligatures: normal;-en-paragraph:true;">[root@centos7 ~]# firewall-cmd --list-port</span></div><div style="font-size: 14px; letter-spacing: normal; orphans: 2; text-align: justify; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(250, 250, 252); margin-top: 1em; margin-bottom: 1em;"><span style="font-size: 14px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(250, 250, 252); color: rgb(51, 51, 51); font-family: tahoma, 宋体; font-variant-caps: normal; font-variant-ligatures: normal;-en-paragraph:true;">命令含义：</span></div><p style="color: rgb(51, 51, 51); font-family: tahoma, 宋体; font-size: 14px; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-align: justify; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(250, 250, 252);"></p><div><br/></div><div>--zone #作用域</div><div>--add-port=80/tcp #添加端口，格式为：端口/通讯协议</div><div style="margin-top: 1em; margin-bottom: 1em;"><span style="-en-paragraph:true;">--permanent #永久生效，没有此参数重启后失效</span></div><div style="font-size: 14px; letter-spacing: normal; orphans: 2; text-align: justify; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(250, 250, 252); margin-top: 1em; margin-bottom: 1em;"><span style="font-size: 14px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(250, 250, 252); color: rgb(51, 51, 51); font-family: tahoma, 宋体; font-variant-caps: normal; font-variant-ligatures: normal;-en-paragraph:true;">关闭firewall：</span></div><div style="font-size: 14px; letter-spacing: normal; orphans: 2; text-align: justify; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(250, 250, 252); margin-top: 1em; margin-bottom: 1em;"><span style="font-size: 14px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(250, 250, 252); color: rgb(51, 51, 51); font-family: tahoma, 宋体; font-variant-caps: normal; font-variant-ligatures: normal;-en-paragraph:true;">systemctl stop firewalld.service #停止firewall</span></div><div style="font-size: 14px; letter-spacing: normal; orphans: 2; text-align: justify; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(250, 250, 252); margin-top: 1em; margin-bottom: 1em;"><span style="font-size: 14px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(250, 250, 252); color: rgb(51, 51, 51); font-family: tahoma, 宋体; font-variant-caps: normal; font-variant-ligatures: normal;-en-paragraph:true;">systemctl disable firewalld.service #禁止firewall开机启动</span></div><div style="font-size: 14px; letter-spacing: normal; orphans: 2; text-align: justify; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(250, 250, 252); margin-top: 1em; margin-bottom: 1em;"><span style="font-size: 14px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(250, 250, 252); color: rgb(51, 51, 51); font-family: tahoma, 宋体; font-variant-caps: normal; font-variant-ligatures: normal;-en-paragraph:true;">二、CentOS6防火墙开放端口：</span></div><div style="font-size: 14px; letter-spacing: normal; orphans: 2; text-align: justify; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(250, 250, 252); margin-top: 1em; margin-bottom: 1em;"><span style="font-size: 14px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(250, 250, 252); color: rgb(51, 51, 51); font-family: tahoma, 宋体; font-variant-caps: normal; font-variant-ligatures: normal;-en-paragraph:true;">在我们使用CentOS系统的时候，CentOS防火墙有时是需要改变设置的。CentOS防火墙默认是打开的，设置CentOS防火墙开放端口方法如下：</span></div><div style="font-size: 14px; letter-spacing: normal; orphans: 2; text-align: justify; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(250, 250, 252); margin-top: 1em; margin-bottom: 1em;"><span style="font-size: 14px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(250, 250, 252); color: rgb(51, 51, 51); font-family: tahoma, 宋体; font-variant-caps: normal; font-variant-ligatures: normal;-en-paragraph:true;">打开iptables的配置文件：vi /etc/sysconfig/iptables</span></div><div style="font-size: 14px; letter-spacing: normal; orphans: 2; text-align: justify; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(250, 250, 252); margin-top: 1em; margin-bottom: 1em;"><span style="font-size: 14px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(250, 250, 252); color: rgb(51, 51, 51); font-family: tahoma, 宋体; font-variant-caps: normal; font-variant-ligatures: normal;-en-paragraph:true;">修改CentOS防火墙时注意：一定要给自己留好后路,留VNC一个管理端口和SSh的管理端口</span></div><div style="font-size: 14px; letter-spacing: normal; orphans: 2; text-align: justify; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(250, 250, 252); margin-top: 1em; margin-bottom: 1em;"><span style="font-size: 14px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(250, 250, 252); color: rgb(51, 51, 51); font-family: tahoma, 宋体; font-variant-caps: normal; font-variant-ligatures: normal;-en-paragraph:true;">下面是一个iptables的示例：</span></div><p style="color: rgb(51, 51, 51); font-family: tahoma, 宋体; font-size: 14px; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-align: justify; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(250, 250, 252);"></p><div># Firewall configuration written by system-config-securitylevel</div><div># Manual customization of this file is not recommended.</div><div>*filter</div><div>:INPUT ACCEPT [0:0]</div><div>:FORWARD ACCEPT [0:0]</div><div>:OUTPUT ACCEPT [0:0]</div><div>:RH-Firewall-1-INPUT - [0:0]</div><div>-A INPUT -j RH-Firewall-1-INPUT</div><div>-A FORWARD -j RH-Firewall-1-INPUT</div><div>-A RH-Firewall-1-INPUT -i lo -j ACCEPT</div><div>-A RH-Firewall-1-INPUT -p icmp –icmp-type any -j ACCEPT</div><div>-A RH-Firewall-1-INPUT -p 50 -j ACCEPT</div><div>-A RH-Firewall-1-INPUT -p 51 -j ACCEPT</div><div>-A RH-Firewall-1-INPUT -m state –state ESTABLISHED,RELATED -j ACCEPT</div><div>-A RH-Firewall-1-INPUT -m state –state NEW -m tcp -p tcp –dport 53 -j ACCEPT</div><div>-A RH-Firewall-1-INPUT -m state –state NEW -m udp -p udp –dport 53 -j ACCEPT</div><div>-A RH-Firewall-1-INPUT -m state –state NEW -m tcp -p tcp –dport 22 -j ACCEPT</div><div>-A RH-Firewall-1-INPUT -m state –state NEW -m tcp -p tcp –dport 25 -j ACCEPT</div><div>-A RH-Firewall-1-INPUT -m state –state NEW -m tcp -p tcp –dport 80 -j ACCEPT</div><div>-A RH-Firewall-1-INPUT -m state –state NEW -m tcp -p tcp –dport 443 -j ACCEPT</div><div>-A RH-Firewall-1-INPUT -j REJECT –reject-with icmp-host-prohibited</div><div style="margin-top: 1em; margin-bottom: 1em;"><span style="-en-paragraph:true;">COMMIT</span></div><div style="font-size: 14px; letter-spacing: normal; orphans: 2; text-align: justify; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(250, 250, 252); margin-top: 1em; margin-bottom: 1em;"><span style="font-size: 14px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(250, 250, 252); color: rgb(51, 51, 51); font-family: tahoma, 宋体; font-variant-caps: normal; font-variant-ligatures: normal;-en-paragraph:true;">修改CentOS防火墙需要注意的是，你必须根据自己服务器的情况来修改这个文件。</span></div><p style="color: rgb(51, 51, 51); font-family: tahoma, 宋体; font-size: 14px; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-align: justify; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(250, 250, 252);"></p><div>举例来说，如果你不希望开放80端口提供web服务，那么应该相应的删除这一行：</div><div style="margin-top: 1em; margin-bottom: 1em;"><span style="-en-paragraph:true;">-A RH-Firewall-1-INPUT -m state –state NEW -m tcp -p tcp –dport 80 -j ACCEPT</span></div><div style="font-size: 14px; letter-spacing: normal; orphans: 2; text-align: justify; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(250, 250, 252); margin-top: 1em; margin-bottom: 1em;"><span style="font-size: 14px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(250, 250, 252); color: rgb(51, 51, 51); font-family: tahoma, 宋体; font-variant-caps: normal; font-variant-ligatures: normal;-en-paragraph:true;">全部修改完之后重启iptables:service iptables restart</span></div><div style="font-size: 14px; letter-spacing: normal; orphans: 2; text-align: justify; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(250, 250, 252); margin-top: 1em; margin-bottom: 1em;"><span style="font-size: 14px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(250, 250, 252); color: rgb(51, 51, 51); font-family: tahoma, 宋体; font-variant-caps: normal; font-variant-ligatures: normal;-en-paragraph:true;">你可以验证一下是否规则都已经生效：iptables -L</span></div><div style="font-size: 14px; letter-spacing: normal; orphans: 2; text-align: justify; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(250, 250, 252); margin-top: 1em; margin-bottom: 1em;"><span style="font-size: 14px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(250, 250, 252); color: rgb(51, 51, 51); font-family: tahoma, 宋体; font-variant-caps: normal; font-variant-ligatures: normal;-en-paragraph:true;">这样，我们就完成了CentOS防火墙的设置修改。</span></div><div style="font-size: 14px; letter-spacing: normal; orphans: 2; text-align: justify; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(250, 250, 252); margin-top: 1em; margin-bottom: 1em;"><br/></div></div></span>
</div></body></html> 